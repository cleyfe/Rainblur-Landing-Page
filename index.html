<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Digital assets intelligence platform</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <link rel="stylesheet" type="text/css" href="index.css">
    <link rel="stylesheet" href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css"/>
    <!--Replace with your tailwind.css once created-->
    <link href="https://unpkg.com/@tailwindcss/custom-forms/dist/custom-forms.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"> <!-- Include Tailwind CSS library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Include Chart.js library -->

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap");

      html {
        font-family: "Poppins", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
      }
    </style>
  </head>

  <body class="leading-normal tracking-normal text-indigo-400 m-6 bg-cover bg-fixed" style="background-image: url('header.png');">
    <div class="h-full">
      <!--Nav-->
      <div class="w-full container mx-auto">
        <div class="w-full flex items-center justify-between">
          <a class="flex items-center text-indigo-400 no-underline hover:no-underline font-bold text-2xl lg:text-4xl" href="#">
            <span class="bg-clip-text text-transparent bg-gradient-to-r from-green-400 via-pink-500 to-purple-500">Buckets.fi</span>
          </a>

          <div class="flex w-1/2 justify-end content-center">
            <a class="inline-block text-blue-300 no-underline hover:text-pink-500 hover:text-underline text-center h-10 p-2 md:h-auto md:p-4 transform hover:scale-125 duration-300 ease-in-out" href="https://twitter.com/intent/tweet?url=#">
              <svg class="fill-current h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
                <path
                  d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"
                ></path>
              </svg>
            </a>
            <a
              class="inline-block text-blue-300 no-underline hover:text-pink-500 hover:text-underline text-center h-10 p-2 md:h-auto md:p-4 transform hover:scale-125 duration-300 ease-in-out"
              href="https://www.facebook.com/sharer/sharer.php?u=#"
            >
              <svg class="fill-current h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
                <path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"></path>
              </svg>
            </a>
          </div>
        </div>
      </div>

      <!--Main-->
      <div class="container pt-24 md:pt-36 mx-auto flex flex-wrap flex-col md:flex-row items-center">
        <!--Left Col-->
        <div class="flex flex-col w-full xl:w-2/5 justify-center lg:items-start overflow-y-hidden">
          <h1 class="my-4 text-3xl md:text-5xl text-white opacity-75 font-bold leading-tight text-center md:text-left">
            Portfolio 
            <span class="bg-clip-text text-transparent bg-gradient-to-r from-green-400 via-pink-500 to-purple-500">
              analytics
            </span>
            designed for digital assets
          </h1>
          <p class="leading-normal text-base md:text-2xl mb-8 text-center md:text-left">
            You cannot predict the future, but you can prepare for it!
          </p>

          <form class="bg-gray-900 opacity-75 w-full shadow-lg rounded-lg px-8 pt-6 pb-8 mb-4">
            <div class="mb-4">
              <label class="block text-blue-300 py-2 font-bold mb-2" for="emailaddress">
                Don't miss our launch soon!
              </label>
              <input
                class="shadow appearance-none border rounded w-full p-3 text-gray-700 leading-tight focus:ring transform transition hover:scale-105 duration-300 ease-in-out"
                id="emailaddress"
                type="text"
                placeholder="you@somewhere.com"
              />
            </div>

            <div class="flex items-center justify-between pt-4">
              <button
                class="bg-gradient-to-r from-purple-800 to-green-500 hover:from-pink-500 hover:to-green-500 text-white font-bold py-2 px-4 rounded focus:ring transform transition hover:scale-105 duration-300 ease-in-out"
                type="button"
              >
                Sign Up
              </button>
            </div>
          </form>
        </div>

        <!--Right Col-->
        <div class="w-full text-white xl:w-3/5 p-12 overflow-hidden">
          <canvas id="myChart" class="mx-auto w-full md:w-4/5 transform transition hover:scale-105 duration-700 ease-in-out"></canvas> <!-- This is where the chart will be drawn -->

          <div class="mt-8 flex flex-wrap justify-between">
            <div class="opacity-75 w-full sm:w-1/4 shadow-lg rounded-lg px-8 pt-6 pb-8 mb-4">
                <label for="initialWealthSlider" class="block text-blue-300 py-2 font-bold mb-2">Initial Wealth: <span id="initialWealthValue">10000</span></label>
                <input type="range" id="initialWealthSlider" min="0" max="100000" value="10000" step="1000" class="slider">
            </div>
            <div class="opacity-75 w-full sm:w-1/4 shadow-lg rounded-lg px-8 pt-6 pb-8 mb-4">
                <label for="savingsRateSlider" class="block text-blue-300 py-2 font-bold mb-2">Yearly Savings: <span id="savingsRateValue">5000</span></label>
                <input type="range" id="savingsRateSlider" min="0" max="20000" value="5000" step="500" class="slider">
            </div>
            <div class="opacity-75 w-full sm:w-1/4 shadow-lg rounded-lg px-8 pt-6 pb-8 mb-4">
                <label for="yearsSlider" class="block text-blue-300 py-2 font-bold mb-2">Years: <span id="yearsValue">30</span></label>
                <input type="range" id="yearsSlider" min="1" max="50" value="30" class="slider">
            </div>
            <div class="opacity-75 w-full sm:w-1/4 shadow-lg rounded-lg px-8 pt-6 pb-8 mb-4">
                <label for="returnSlider" class="block text-blue-300 py-2 font-bold mb-2">Return: <span id="returnValue">5</span> %</label>
                <input type="range" id="returnSlider" min="-0.05" max="1" value="0.1" step="0.01" class="slider">
            </div>
          </div>
        </div>


        <!--Footer-->
        <div class="w-full pt-16 pb-6 text-sm text-center md:text-left fade-in">
          <a class="text-gray-500 no-underline hover:no-underline" href="#">&copy; Buckets.fi 2023</a>
        </div>
      </div>
    </div>
    <script>
         // Function to calculate wealth projection
        function calculateWealthProjection(initialWealth, savingsRate, meanReturn, years, volatility = 0.5) {
            let wealthProjection = [initialWealth];
            for (let i = 1; i <= years; i++) {
                let previousWealth = wealthProjection[i - 1];
                // Generate a normally distributed return with specified mean and volatility
                let u = Math.random();
                let v = Math.random();
                let randomReturn = Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v) * volatility;
                let newWealth = previousWealth * (1 + meanReturn + randomReturn) + savingsRate;
                wealthProjection.push(newWealth);
            }
            return wealthProjection;
        }

        // Function to calculate percentile
        function percentile(arr, p) {
            arr.sort((a, b) => a - b);
            let index = p * (arr.length - 1);
            let lower = Math.floor(index);
            let upper = lower + 1;
            let weight = index % 1;
            if (upper >= arr.length) return arr[lower];
            return arr[lower] * (1 - weight) + arr[upper] * weight;
        }

        // Function to calculate average
        function average(arr) {
            let sum = arr.reduce((a, b) => a + b, 0);
            return sum / arr.length;
        }

        // Create the chart using Chart.js
        let ctx = document.getElementById('myChart').getContext('2d');
        let chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [
                    {
                        label: '10th Percentile',
                        data: [],
                        borderColor: 'rgba(255, 99, 132, 1)',
                        fill: '+1',
                    },
                    {
                        label: '90th Percentile',
                        data: [],
                        borderColor: 'rgba(75, 192, 192, 1)',
                        fill: '-1',
                    },
                    {
                        label: '10th to 90th Percentile',
                        data: [],
                        backgroundColor: 'rgba(0, 123, 255, 0.5)',
                        borderColor: 'transparent',
                        fill: '-1',
                    },
                    {
                        label: 'Average Return',
                        data: [],
                        borderColor: 'rgba(255, 206, 86, 1)',
                        fill: false,
                    },
                    {
                        label: '0% Return',
                        data: [],
                        borderColor: 'rgba(153, 102, 255, 1)',
                        fill: false,
                    },
                ]
            },
            options: {
              responsive: true,
              plugins: {
                  title: {
                      display: false,
                      text: 'Wealth Projection Chart',
                      color: 'white'
                  },
                  legend: {
                      labels: {
                        font: {
                          size: 14,
                          weight: 'bold',
                        },
                        color: '#93C5FD', 
                      }
                  }
              },
              scales: {
                  x: {
                      display: true,
                      title: {
                          display: true,
                          text: 'Years',
                          font: {
                          size: 14,
                          weight: 'bold',
                        },
                        color: '#93C5FD', 
                      },
                      ticks: {
                        font: {
                          size: 14,
                          weight: 'bold',
                        },
                        color: '#93C5FD', 
                      },
                      grid: {
                          borderColor: 'white'
                      }
                  },
                  y: {
                      display: true,
                      title: {
                          display: true,
                          text: 'Wealth',
                          font: {
                          size: 14,
                          weight: 'bold',
                        },
                        color: '#93C5FD', 
                      },
                      ticks: {
                        font: {
                          size: 14,
                          weight: 'bold',
                        },
                        color: '#93C5FD', 
                      },
                      grid: {
                      }
                  }
              }
            }
        });

        // Function to update the chart
        function updateChart() {
            // Get slider values
            let initialWealth = parseInt(document.getElementById('initialWealthSlider').value, 10);
            let savingsRate = parseInt(document.getElementById('savingsRateSlider').value, 10);
            let years = parseInt(document.getElementById('yearsSlider').value, 10);
            let meanReturn = parseFloat(document.getElementById('returnSlider').value);

            // Generate wealth projection data
            let simulations = 5000;
            let wealthProjections = [];
            for (let i = 0; i < simulations; i++) {
                wealthProjections.push(calculateWealthProjection(initialWealth, savingsRate, meanReturn, years));
            }

            // Calculate 10th and 90th percentiles, and average at each time step
            let percentiles10 = [], percentiles90 = [], averages = [];
            for (let i = 0; i <= years; i++) {
                let wealthsAtYearI = wealthProjections.map(projection => projection[i]);
                percentiles10.push(percentile(wealthsAtYearI, 0.10));
                percentiles90.push(percentile(wealthsAtYearI, 0.90));
                averages.push(average(wealthsAtYearI));
            }

            // Calculate wealth projection with 0% return
            let noReturnProjection = calculateWealthProjection(initialWealth, savingsRate, 0, years, 0);

            // Update the chart data
            chart.data.labels = Array.from({length: years+1}, (_, i) => i);
            chart.data.datasets[0].data = percentiles10;
            chart.data.datasets[1].data = percentiles90;
            chart.data.datasets[2].data = percentiles90;
            chart.data.datasets[3].data = averages;
            chart.data.datasets[4].data = noReturnProjection;
            chart.update();
        }

        // Add event listeners to sliders
        document.getElementById('initialWealthSlider').addEventListener('input', function(e) {
            document.getElementById('initialWealthValue').textContent = e.target.value;
            updateChart();
        });
        document.getElementById('savingsRateSlider').addEventListener('input', function(e) {
            document.getElementById('savingsRateValue').textContent = e.target.value;
            updateChart();
        });
        document.getElementById('yearsSlider').addEventListener('input', function(e) {
            document.getElementById('yearsValue').textContent = e.target.value;
            updateChart();
        });
        document.getElementById('returnSlider').addEventListener('input', function(e) {
            document.getElementById('returnValue').textContent = (e.target.value * 100).toFixed(0);
            updateChart();
        });

        // Initial chart update
        updateChart();
    </script>
  </body>
</html>
